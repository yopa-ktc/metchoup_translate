(this["webpackJsonpmetchoup-translate"]=this["webpackJsonpmetchoup-translate"]||[]).push([[0],{11:function(e,t){var a="https://translate.metchoup.com/api/";e.exports={CONFIGURATION:{URL_ADD_SUGGESTION:a+"suggestion",URL_GET_EXPRESSION:a+"getExpressions",URL_GET_LANGUAGES:a+"allLanguages",URL_UPLOAD:a+"uploadExpressionSon"}}},33:function(e,t,a){},35:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(7),i=a.n(r),c=(a(33),a(6)),o=a(26),l=a(2),u=a.n(l),d=a(5),p=a(8),h=a(9),g=a(4),m=a(28),b=a(27),j=a(15),x=(a(35),a(10)),v=a.n(x),f=a(11),O=function(){function e(){Object(p.a)(this,e)}return Object(h.a)(e,[{key:"postSuggestion",value:function(){var e=Object(d.a)(u.a.mark((function e(t,a){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=f.CONFIGURATION.URL_ADD_SUGGESTION,(n=new FormData).append("langue_arrive",t.langue_arrive),n.append("expression_arrive",t.expression_arrive),n.append("langue_depart",t.langue_depart),n.append("expression_depart",t.expression_depart),n.append("email",t.email),n.append("expression_audio",a),e.next=11,v.a.post(s,n);case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAllLanguages",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.CONFIGURATION.URL_GET_LANGUAGES,e.next=3,v.a.get(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getExpression",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.CONFIGURATION.URL_GET_EXPRESSION+"/"+t,e.next=3,v.a.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),y=a(0),S=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).setTranslation=s.setTranslation.bind(Object(g.a)(s)),s.handleSubmitDoc=s.handleSubmitDoc.bind(Object(g.a)(s)),s.handlerChangeFile=s.handlerChangeFile.bind(Object(g.a)(s)),s.handlerChange=s.handlerChange.bind(Object(g.a)(s)),s.handlerSelectSrcLanguage=s.handlerSelectSrcLanguage.bind(Object(g.a)(s)),s.handlerSelectTrsLanguage=s.handlerSelectTrsLanguage.bind(Object(g.a)(s)),s.customTheme=s.customTheme.bind(Object(g.a)(s)),s.customThemeTrs=s.customThemeTrs.bind(Object(g.a)(s)),s.state={listLanguage:[],srcLanguage:"english",trsLanguage:"",audioTrsLanguage:"",showExpressions:!1,listExpression:[],listTranslation:[],textSrc:"",textTrs:"",suggestion:{langue_arrive:"",expression_arrive:"",langue_depart:"",expression_depart:"",expression_son:"",email:""},confirmationSuggestion:void 0,spinner:"visually-hidden"},s.Service=new O,s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Service.getAllLanguages();case 2:return t=e.sent,e.next=5,this.Service.getExpression(this.state.srcLanguage);case 5:a=e.sent,s={langue_arrive:"",expression_arrive:"",langue_depart:"",expression_depart:"",expression_son:"",email:""},n=[],t.data.forEach((function(e){if("suggestions"!==e.Tables_in_martinku_metchoup_translate){var t={value:e.Tables_in_martinku_metchoup_translate,label:e.Tables_in_martinku_metchoup_translate};n.push(t)}})),this.setState((function(e){return{suggestion:s,listExpression:a.data,listLanguage:n,confirmationSuggestion:void 0}}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlerChange",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,s=a.name,n=a.value,"textarea"===a.type?this.setState((function(e){return{textSrc:n}})):((r=this.state.suggestion)[s]=n,this.setState({suggestion:r}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlerSelectTrsLanguage",value:function(e){this.setState((function(t){return{trsLanguage:e.value,message:void 0,showExpressions:!0,textTrs:""}}))}},{key:"handlerSelectSrcLanguage",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState((function(e){return{srcLanguage:t.value,textSrc:""}})),e.next=3,this.Service.getExpression(t.value);case 3:a=e.sent,this.setState((function(e){return{listExpression:a.data}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTranslation",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,s,n,r,i=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(".chosen-value"),""!==this.state.trsLanguage){e.next=5;break}this.setState((function(e){return{message:Object(y.jsx)("h6",{className:"message",children:"Choose a language for translation"}),showExpressions:!1,error:"error"}})),e.next=23;break;case 5:if(this.state.srcLanguage!==this.state.trsLanguage){e.next=9;break}this.setState((function(e){return{message:Object(y.jsx)("h6",{className:"message",children:"The source language must be different for the translation language"}),showExpressions:!1,error:"error"}})),e.next=23;break;case 9:return e.next=11,this.Service.getExpression(this.state.trsLanguage);case 11:a=e.sent,this.setState((function(e){return{listTranslation:a.data}})),this.setState((function(e){return{message:void 0,showExpressions:!0,error:""}})),s=document.querySelector(".value-list"),n=Object(o.a)(document.querySelectorAll("li")),s.classList.add("open"),r=[],n.forEach((function(e){r.push(e.textContent)})),function(){s.classList.remove("open")},t.addEventListener("input",(function(){s.classList.add("open");var e=t.value.toLowerCase();if(e.length>0)for(var a=0;a<r.length;a++)e.substring(0,e.length)!==r[a].substring(0,e.length).toLowerCase()?n[a].classList.add("closed"):n[a].classList.remove("closed");else for(var i=0;i<n.length;i++)n[i].classList.remove("closed")})),n.forEach((function(e,t){e.addEventListener("click",(function(a){i.setState((function(a){return{textSrc:e.textContent,textTrs:i.state.listTranslation[t-3].expression,audioTrsLanguage:i.state.listTranslation[t-3].expression_audio}})),n.forEach((function(e){e.classList.add("closed")}))}))})),document.addEventListener("click",(function(e){var a=s.contains(e.target),n=t.contains(e.target);a||n||s.classList.remove("open")}));case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmitDoc",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState((function(e){return{spinner:""}})),e.next=4,this.Service.postSuggestion(this.state.suggestion,this.state.son);case 4:200===e.sent.status&&(a=document.getElementById("closeModal"),this.setState((function(e){return{confirmationSuggestion:Object(y.jsxs)("p",{className:"alert alert-success",children:[Object(y.jsx)("b",{children:"Me lapt'euh"})," (thank you !)",Object(y.jsx)("br",{}),"Your transaction will be studied"]}),spinner:"visually-hidden"}})),setTimeout((function(){a.click(),s.componentDidMount()}),3e3));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlerChangeFile",value:function(e){var t=this;try{e.preventDefault();var a=e.target,s=(new Date,a.files[0]);"audio/x-m4a"===s.type||"audio/wav"===s.type||"audio/mpeg"===s.type||"audio/ogg"===s.type?s.size/1024<=3e3?(this.state.son=s,this.setState((function(e){return{confirmationSuggestion:Object(y.jsx)("p",{className:"alert alert-success",children:"Fichier bien enregistr\xe9 !"})}})),setTimeout((function(){t.setState((function(e){return{confirmationSuggestion:void 0}}))}),1500)):this.setState((function(e){return{confirmationSuggestion:Object(y.jsx)("p",{className:"error",children:"Audio trop lourd ! ( moins de 3MB )"})}})):this.setState((function(e){return{confirmationSuggestion:Object(y.jsx)("p",{className:"error",children:"Votre fichier n'est pas audio !"})}}))}catch(n){console.log(n)}}},{key:"readExpression",value:function(){document.getElementById("expression_son").play()}},{key:"copyText",value:function(){var e=this;return document.getElementById("translationText").select(),document.execCommand("copy"),this.setState((function(e){return{message:Object(y.jsx)("h6",{style:{backgroundColor:"rgb(88, 255, 199)"},children:"Text copied !"})}})),setTimeout((function(){e.setState((function(e){return{message:void 0}}))}),3e3),!1}},{key:"customTheme",value:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{primary25:"rgb(88, 255, 199)",primary:"rgb(88, 255, 199)"})})}},{key:"customThemeTrs",value:function(e){return Object(c.a)(Object(c.a)({},e),{},{colors:Object(c.a)(Object(c.a)({},e.colors),{},{primary25:"#b245bc",primary:"#b245bc"})})}},{key:"render",value:function(){var e=this;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("header",{children:Object(y.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light",style:{backgroundColor:"#b245bc"},children:[Object(y.jsxs)("a",{style:{color:"rgb(88, 255, 199)"},className:"nav-link",target:"_blanck",href:"https://metchoup.com",children:[Object(y.jsx)("i",{className:"bi bi-arrow-left-square"})," Back to the site ",Object(y.jsx)("span",{className:"sr-only",children:"(current)"})]}),Object(y.jsx)("button",{type:"button","data-toggle":"modal","data-target":"#suggestionForm",className:"nav-link btn btn-dark btn-sm",children:"Contribute"}),Object(y.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(y.jsx)("span",{className:"navbar-toggler-icon"})}),Object(y.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(y.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(y.jsx)("li",{className:"nav-item active ml-3",children:Object(y.jsx)("a",{style:{color:"white"},className:"navbar-brand",href:"https://translate.metchoup.com",children:"Metchoup-translate"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)("a",{style:{color:"white"},className:"nav-link",children:[Object(y.jsx)("img",{src:"united-states.png"})," Page in english"]})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsxs)("a",{style:{color:"white"},className:"nav-link",children:[Object(y.jsx)("img",{src:"france.png"})," Page in french"]})})]})})]})}),Object(y.jsxs)("div",{align:"center",className:"mt-2",style:{width:"80%",margin:"auto"},children:[Object(y.jsx)("strong",{children:Object(y.jsxs)("h1",{style:{fontSize:"1.25rem"},children:[Object(y.jsx)("span",{style:{color:"#b245bc"},children:"Translate yours words"})," between ",Object(y.jsx)("span",{style:{color:"rgb(0, 209, 139)"},children:"africans languages"})]})}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"row container",children:[Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(j.a,{theme:this.customTheme,defaultValue:this.state.listLanguage[3],placeholder:"Source language",options:this.state.listLanguage,onChange:this.handlerSelectSrcLanguage})}),Object(y.jsx)("div",{className:"col",children:Object(y.jsx)(j.a,{theme:this.customThemeTrs,placeholder:"Translation language",options:this.state.listLanguage,onChange:this.handlerSelectTrsLanguage})})]}),this.state.message,Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-sm",children:Object(y.jsxs)("form",{children:[Object(y.jsx)("textarea",{autoFocus:!0,value:this.state.textSrc,onChange:this.handlerChange,placeholder:"Write your text here...",onClick:this.setTranslation,rows:"3",className:"chosen-value srcArea form-control mt-1"}),this.state.showExpressions?Object(y.jsx)("ul",{className:"value-list",children:this.state.listExpression.map((function(e){return Object(y.jsx)("li",{children:e.expression},e.id)}))}):""]})}),Object(y.jsxs)("div",{className:"col-sm",children:[Object(y.jsx)("textarea",{rows:"3",id:"translationText",value:this.state.textTrs,className:"form-control textcss mt-1"}),Object(y.jsx)("audio",{id:"expression_son",src:"expression_son/"+this.state.trsLanguage+"/"+this.state.audioTrsLanguage}),Object(y.jsxs)("h3",{children:[Object(y.jsx)("button",{className:"btn btn-outline-secondary",children:Object(y.jsx)("i",{onClick:function(){return e.readExpression()},className:"bi bi-volume-up-fill"})})," ",Object(y.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return e.copyText()},children:Object(y.jsx)("i",{className:"bi bi-clipboard"})})]})]})]})]}),Object(y.jsx)("div",{align:"center",id:"video_tutorial",children:Object(y.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/m_1uVqzg1iw",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})}),Object(y.jsx)("div",{className:"modal fade",id:"suggestionForm",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(y.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(y.jsxs)("div",{className:"modal-content modalMetchoup",children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Suggest a translation"}),Object(y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(y.jsxs)("form",{onSubmit:this.handleSubmitDoc,enctype:"multipart/form-data",children:[Object(y.jsxs)("div",{className:"modal-body",children:[Object(y.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(y.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:"source language"}),Object(y.jsx)("input",{required:!0,value:this.state.suggestion.langue_depart,type:"text",name:"langue_depart",className:"form-control",onChange:this.handlerChange,"aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"})]}),Object(y.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(y.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:"original expression"}),Object(y.jsx)("input",{required:!0,value:this.state.suggestion.expression_depart,name:"expression_depart",className:"form-control",type:"text",onChange:this.handlerChange,"aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"})]}),Object(y.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(y.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:"Translation language"}),Object(y.jsx)("input",{required:!0,value:this.state.suggestion.langue_arrive,name:"langue_arrive",className:"form-control",type:"text",onChange:this.handlerChange,"aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"})]}),Object(y.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(y.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:"translated expression"}),Object(y.jsx)("input",{required:!0,value:this.state.suggestion.expression_arrive,name:"expression_arrive",className:"form-control",type:"text",onChange:this.handlerChange,"aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"})]}),Object(y.jsxs)("div",{className:"custom-file mb-2",children:[Object(y.jsx)("input",{type:"file",accept:".mp3,.wav,.ogg,.m4a,.mpeg",name:"expression_son",className:"custom-file-input",id:"validatedCustomFile","aria-describedby":"customFileValidationFeedback",onChange:this.handlerChangeFile}),Object(y.jsxs)("label",{className:"custom-file-label",for:"validatedCustomFile",children:["fichier de prononciation",Object(y.jsx)("span",{className:"sr-only",children:" (required)"})]}),Object(y.jsx)("div",{className:"invalid-feedback",id:"customFileValidationFeedback",children:"Example invalid custom file feedback"})]}),Object(y.jsxs)("div",{className:"input-group input-group-sm mb-3",children:[Object(y.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",children:"Your email/name"}),Object(y.jsx)("input",{required:!0,value:this.state.suggestion.email,name:"email",className:"form-control",type:"text",onChange:this.handlerChange,"aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"})]})]}),this.state.confirmationSuggestion,Object(y.jsxs)("div",{className:"modal-footer",children:[Object(y.jsx)("div",{className:"spinner-border text-success "+this.state.spinner,role:"status",children:Object(y.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(y.jsx)("button",{type:"button",id:"closeModal",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(y.jsx)("button",{type:"submit",disabled:void 0!==this.state.confirmationSuggestion||""==this.state.spinner,className:"btn btn-success",children:"Save"})]})]})]})})})]})}}]),a}(s.Component),N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(S,{})}),document.getElementById("root")),N()}},[[70,1,2]]]);
//# sourceMappingURL=main.52657243.chunk.js.map